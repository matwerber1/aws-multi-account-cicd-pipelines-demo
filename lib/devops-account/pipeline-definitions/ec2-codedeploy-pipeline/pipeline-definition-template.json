{
    "pipeline":{
       "name":"$DEVOPS_EC2_WEBSERVER_PIPELINE_NAME",
       "roleArn":"$DEVOPS_PIPELINE_SERVICE_ROLE_ARN",
       "artifactStore":{
          "type":"S3",
          "location":"$DEVOPS_CODFEPIPELINE_BUCKET_NAME",
          "encryptionKey":{
             "id":"$DEVOPS_PIPELINE_KMS_KEY_ARN",
             "type":"KMS"
          }
       },
       "stages":[
          {
             "name":"Source",
             "actions":[
                {
                   "name":"CodeCommit_Source",
                   "actionTypeId":{
                      "category":"Source",
                      "owner":"AWS",
                      "provider":"CodeCommit",
                      "version":"1"
                   },
                   "runOrder":1,
                   "configuration":{
                      "BranchName":"master",
                      "PollForSourceChanges":"false",
                      "RepositoryName":"$DEVOPS_EC2_WEBSERVER_REPO_NAME"
                   },
                   "outputArtifacts":[
                      {
                         "name":"SourceArtifact"
                      }
                   ],
                   "inputArtifacts":[
                      
                   ]
                }
             ]
          },
          {
             "name":"Deploy",
             "actions":[
                {
                   "name":"Deploy_to_Test",
                   "actionTypeId":{
                      "category":"Deploy",
                      "owner":"AWS",
                      "provider":"CodeDeploy",
                      "version":"1"
                   },
                   "runOrder":1,
                   "configuration":{
                      "ApplicationName": "$TEST_WEBSERVER_CODEDEPLOY_APP_NAME",
                      "DeploymentGroupName": "$TEST_WEBSERVER_CODEDEPLOY_DEPLOYMENT_GROUP_NAME"
                   },
                   "outputArtifacts":[],
                   "inputArtifacts":[
                      {
                         "name":"SourceArtifact"
                      }
                   ],
                   "roleArn":"$TEST_CROSS_ACCOUNT_PIPELINE_DEPLOYMENT_ROLE_ARN"
                }
             ]
          }
       ],
       "version":1
    },
    "tags":[
       {
          "key":"CreatedBy",
          "value":"AWS CLI command"
       }
    ]
 }